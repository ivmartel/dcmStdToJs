<!DOCTYPE html>
<html>

<head>
<title>DICOM Standard xml2json</title>
<meta charset="UTF-8">
<link type="text/css" rel="stylesheet" href="./css/style.css" />


<script type="module">
import { Gui } from './src/gui.js'
// setup
var gui = new Gui();
gui.setup();
// last minute
document.addEventListener('DOMContentLoaded', gui.onDOMContentLoaded);
</script>

<script nomodule>
  var msg = 'This code needs a browser that supports es6 modules...';
  alert(msg);
  console.error(msg);
</script>

</head>

<body>

  <h2>DICOM standard xml2json</h2>

  <p>
    DICOM versions: <a href="http://dicom.nema.org/medical/dicom/" target="_parent">dicom.nema.org/medical/dicom/</a>.
    NEMA does not publish the standard with CORS enabled, so only those published here are available
    for the online parsing option. Online version are between 4 to 7MB. 
    <b>Warning</b>: values are modified by this code, see the <code>adapt*</code>
    functions of the <code>src/parser.js</code> file.
  </p>

  <p>
    Parts details: <i>(05)</i> list of 32bit VL VRs, <i>(06)</i> tags group '0002', '0004' and superior + UIDs
    <i>(07)</i> tags group '0000'.
  </p>

  <ul>
  <li><label for="fileupload">Select a file to parse: </label>
  <input id="fileupload" type="file"></li>

  <li>Or
  <label for="dicomVersions">choose an online version:</label>
  <select name="dicomVersions" id="dicomVersions"></select>
  <span id="versionLinks"></span></li>

  <li>Or use (default) online 2019a part06
  (<a href="https://raw.githubusercontent.com/ivmartel/dcmStdToJs/master/resources/standard/2019a-part06.xml" target="_parent">xml</a>,
  <a href="http://medical.nema.org/medical/dicom/2019a/output/html/part06.html" target="_parent">html</a>)</li>
  </ul>

  <p>
  <button id="parseButton">Parse</button>
  </p>

  <progress id="progressBar" value="0" max="100"></progress>

  <div id="output"></div>

</body>

</html>
